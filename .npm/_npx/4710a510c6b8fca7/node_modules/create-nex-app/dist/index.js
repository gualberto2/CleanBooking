#!/usr/bin/env node
"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const path_1 = __importDefault(require("path"));
const yargs_1 = __importDefault(require("yargs"));
const fs_extra_1 = __importDefault(require("fs-extra"));
const get_pkg_manager_1 = require("./helpers/get-pkg-manager");
const args = yargs_1.default.option({
    name: { type: "string", demandOption: true, alias: "n" },
}).argv;
const { name } = args;
fs_extra_1.default.mkdir(`./${name}`, (error) => {
    if (error) {
        console.error("Could not create directory!");
        process.exit(0);
    }
    const pkgManager = (0, get_pkg_manager_1.getPkgManager)();
    const srcDir = `${path_1.default.resolve(__dirname)}/../template`;
    const destinationDir = `./${name}`;
    fs_extra_1.default.copySync(srcDir, destinationDir);
    console.log(`using ${pkgManager} to install dependencies`);
    console.log(`Created ${name} successfully!`);
    console.log(`Next steps:`);
    console.log(`- cd ${name}`);
    console.log(`- ${pkgManager} install`);
    if (pkgManager === "yarn") {
        console.log(`- yarn dev`);
    }
    else if (pkgManager === "pnpm") {
        console.log(`- pnpm dev`);
    }
    else {
        console.log(`- npm run dev`);
    }
    process.exit(0);
});
//# sourceMappingURL=index.js.map